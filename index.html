<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cripto</title>

    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">

    
</head>
<body>

    <section id="generator">

        <div id="primos">
            <article>
                <input type="number" id="escala1" placeholder="Escala Base: 10" step="10">

                <select id="op1">
                    <option value="1">Próximo Primo</option>
                    <option value="-1">Primo Anterior</option>
                </select>
            </article>

            <article>
                <input type="number" id="escala2" placeholder="Escala Base: 10" step="10">

                <select id="op2">
                    <option value="1">Próximo Primo</option>
                    <option value="-1">Primo Anterior</option>
                </select>
            </article>
        </div>

        <button onclick="gerarPrimos()">Gerar Primos</button>
    </section>

    <section id="calc">
        <div class="column">
            <p>Primo 1</p>
            <span id="primo1"></span>
        </div>

        <div class="column">
            <p>Primo 2</p>
            <span id="primo2"></span>
        </div>

        <div class="column">
            <p>Produto dos Termos</p>
            <span id="resultadoMult"></span>
        </div>
    </section>

    <section id="decodificator">
        <div>
            <input type="text" name="" id="produto" placeholder="Produto dos Termos">
        </div>

        <button onclick="procura()">Encontrar Primos</button>

        <p id="resultadoProduto"></p>
    </section>
    
    <script>
        // let n1 = Math.floor(Math.random() * (p1max - p1min + 1) + p1min); // let n2 = Math.floor(Math.random() * (p2max - p2min + 1) + p2min);

        function gerarPrimos(){
            let escalaP1 = Number(document.getElementById("escala1").value);
            let escalaP2 = Number(document.getElementById("escala2").value);
            if (escalaP1 == 0) escalaP1 = 10;
            if (escalaP2 == 0) escalaP2 = 10;

            let primo1 = escalaPrimo(escalaP1, Number(document.getElementById("op1").value));
            let primo2 = escalaPrimo(escalaP2, Number(document.getElementById("op2").value));
            let produto = primo1*primo2;

            document.getElementById("primo1").innerHTML = `${pontua(`${primo1}`)}`;
            document.getElementById("primo2").innerHTML = `${pontua(`${primo2}`)}`;
            document.getElementById("resultadoMult").innerHTML = `${pontua(`${produto}`)}`;
            document.getElementById("produto").value = produto;
        }


        function procura(){
            let produto = Number(document.getElementById("produto").value);
            // console.log(produto);
            if (produto > 0) {
                let [p1, p2] = doisTermosProduto(produto);
                document.getElementById("resultadoProduto").innerText = `Os primos deste produto de dois termos são ${pontua(`${p1}`)} e ${pontua(`${p2}`)}.`;
            
            }else alert('O campo "Produto dos Termos" está vazio!');
        }

        function pontua(num){
            let temp = num.split("").reverse();
            let adicional = 0;
            if (temp.length > 3){
                for (let i = 1; i < temp.length-adicional; i++) {
                    if (i % 3 == 0) {
                        temp.splice(i+adicional, 0, ".");
                        adicional++;
                    }
                } 
                let saida = "";
                for (const element of temp.reverse()) saida += `${element}`;
                return saida;
            }else return num;
        }

    </script>
</body>
</html>